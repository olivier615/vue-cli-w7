{"version":3,"file":"js/178.87917a88.js","mappings":"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","sources":["webpack://cli-demo/./src/views/AdminOrders.vue","webpack://cli-demo/./src/components/DeleteOrder.vue","webpack://cli-demo/./src/components/DeleteOrder.vue?3f6b","webpack://cli-demo/./src/views/AdminOrders.vue?577b"],"sourcesContent":["<template>\r\n<Loading :active=\"isLoading\" :z-index=\"1060\"></Loading>\r\n  <h2>後台-訂單列表</h2>\r\n  <div class=\"container\">\r\n      <table class=\"table mt-4\">\r\n        <thead>\r\n          <tr>\r\n            <th>訂單編號</th>\r\n            <th>訂購者</th>\r\n            <th>金額</th>\r\n            <th>支付狀態</th>\r\n            <th>編輯</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"order in orders\" :key=\"order.id\">\r\n            <td>\r\n              {{order.id}}\r\n            </td>\r\n            <td>{{ order.user.name }}</td>\r\n            <td>{{ order.total }}</td>\r\n            <td>\r\n              <span v-if=\"order.is_paid\" class=\"badge bg-primary\">已支付</span>\r\n              <span v-else class=\"badge bg-dark\">未付款</span>\r\n            </td>\r\n            <td>\r\n              <div class=\"btn-group\">\r\n                <router-link class=\"btn btn-outline-primary btn-sm\"\r\n                :to=\"`/admin/order/${order.id}`\">\r\n                  編輯訂單\r\n                </router-link>\r\n                <button class=\"btn btn-danger btn-sm\"\r\n                @click=\"OpenDeleteOrderModal(order)\">\r\n                  刪除\r\n                </button>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <!-- 分頁元件 -->\r\n    <pagination :pages=\"pagination\" @getProducts=\"getOrders\"></pagination>\r\n    <deleteOrder\r\n      :order=\"order\"\r\n      ref=\"delOrderModal\"\r\n      @update=\"getOrders(pagination.current_page)\"\r\n      ></deleteOrder>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport pagination from '@/components/PageView.vue'\r\nimport deleteOrder from '@/components/DeleteOrder.vue'\r\nexport default {\r\n  components: {\r\n    pagination,\r\n    deleteOrder\r\n  },\r\n  data () {\r\n    return {\r\n      isLoading: false,\r\n      orders: [],\r\n      pagination: {},\r\n      order: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getOrders (page = 1) {\r\n      this.isLoading = true\r\n      this.$http\r\n        .get(\r\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/orders/?page=${page}`\r\n        )\r\n        .then((res) => {\r\n          this.orders = res.data.orders\r\n          this.pagination = res.data.pagination\r\n          this.isLoading = false\r\n        })\r\n        .catch((err) => {\r\n          console.dir(err)\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    OpenDeleteOrderModal (order) {\r\n      this.order = order\r\n      this.$refs.delOrderModal.openModal()\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getOrders()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div\r\n    id=\"delOrderModal\"\r\n    ref=\"modal\"\r\n    class=\"modal fade\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"delProductModalLabel\"\r\n    aria-hidden=\"true\"\r\n  >\r\n    <div class=\"modal-dialog\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-danger text-white\">\r\n          <h5 id=\"delOrderModalLabel\" class=\"modal-title\">\r\n            <span>刪除訂單</span>\r\n          </h5>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <p>訂單編號：{{order.id}}</p>\r\n          <p>訂購者：{{order.user.name}}</p>\r\n          <div>\r\n            <span>支付狀態：</span>\r\n            <span v-if=\"order.is_paid\" class=\"badge bg-primary\">已支付</span>\r\n            <span v-else class=\"badge bg-dark\">未付款</span>\r\n          </div>\r\n          <p class=\"text-center\">\r\n            <strong class=\"text-danger\">(訂單刪除後將無法恢復)。</strong>\r\n          </p>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-danger\"\r\n          @click=\"deleteOrder\">\r\n            確認刪除\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\nexport default {\r\n  data () {\r\n    return {\r\n      modal: ''\r\n    }\r\n  },\r\n  props: ['order'],\r\n  methods: {\r\n    deleteOrder () {\r\n      this.$http.delete(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${this.order.id}`)\r\n        .then(res => {\r\n          alert(res.data.message)\r\n          this.hideModal()\r\n          this.$emit('update')\r\n        })\r\n        .catch(err => {\r\n          alert(err.message)\r\n        })\r\n    },\r\n    openModal () {\r\n      this.modal.show()\r\n    },\r\n    hideModal () {\r\n      this.modal.hide()\r\n    }\r\n  },\r\n  mounted () {\r\n    this.modal = new Modal(this.$refs.modal, {\r\n      keyboard: false,\r\n      backdrop: 'static'\r\n    })\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./DeleteOrder.vue?vue&type=template&id=06d33eb2\"\nimport script from \"./DeleteOrder.vue?vue&type=script&lang=js\"\nexport * from \"./DeleteOrder.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\cli-demo - w7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AdminOrders.vue?vue&type=template&id=d58cb718\"\nimport script from \"./AdminOrders.vue?vue&type=script&lang=js\"\nexport * from \"./AdminOrders.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\cli-demo - w7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_createVNode","_component_Loading","active","$data","_hoisted_1","_hoisted_4","_createElementBlock","_Fragment","_renderList","order","key","id","_toDisplayString","user","name","total","is_paid","_component_router_link","to","onClick","$options","_hoisted_9","_component_pagination","pages","onGetProducts","_component_deleteOrder","ref","onUpdate","current_page","tabindex","type","$props","_hoisted_6","_hoisted_11","data","modal","props","methods","deleteOrder","this","$http","delete","then","res","alert","message","hideModal","$emit","catch","err","openModal","show","hide","mounted","Modal","$refs","keyboard","backdrop","__exports__","components","pagination","isLoading","orders","email","tel","address","getOrders","page","get","console","dir","OpenDeleteOrderModal","delOrderModal","render"],"sourceRoot":""}