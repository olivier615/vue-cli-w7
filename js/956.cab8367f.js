"use strict";(self["webpackChunkcli_demo"]=self["webpackChunkcli_demo"]||[]).push([[956],{5956:function(e,l,a){a.r(l),a.d(l,{default:function(){return K}});var s=a(3396),r=a(9242),d=a(7139);const t=(0,s._)("h2",null,"訂單詳情",-1),i={class:"container"},o={class:"text-end"},n=(0,s._)("h3",null,"付款狀態",-1),u={class:"form-check mb-3"},c=(0,s._)("label",{class:"form-check-label",for:"is_paid"}," 已付款 ",-1),m=(0,s._)("h3",null,"訂購者資料",-1),p={class:"mb-3"},_=(0,s._)("label",{for:"email",class:"form-label"},"Email",-1),h={class:"mb-3"},b=(0,s._)("label",{for:"name",class:"form-label"},"姓名",-1),f={class:"mb-3"},v=(0,s._)("label",{for:"tel",class:"form-label"},"電話",-1),g={class:"mb-3"},k=(0,s._)("label",{for:"address",class:"form-label"},"地址",-1),w={class:"mb-3"},x=(0,s._)("label",{for:"message",class:"form-label"},"留言",-1),V=(0,s._)("h3",null,"訂單內容",-1),y={class:"table align-middle"},W=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th"),(0,s._)("th",null,"品名"),(0,s._)("th",{style:{width:"150px"}},"數量/單位"),(0,s._)("th",null,"單價")])],-1),L=(0,s._)("td",null,null,-1),C=(0,s._)("div",{class:"text-success"}," 已套用優惠券 ",-1),U={class:"input-group input-group-sm"},$={class:"input-group mb-3"},q={class:"input-group-text",id:"basic-addon2"},z={class:"text-end"},O=(0,s._)("td",{colspan:"3",class:"text-end"},"總計",-1),D={class:"text-end"},E=(0,s._)("tr",null,null,-1);function F(e,l,a,F,H,T){const Y=(0,s.up)("Loading"),K=(0,s.up)("FieldTemp"),Z=(0,s.up)("error-message"),j=(0,s.up)("FormTemp");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(Y,{active:H.isLoading,"z-index":1060},null,8,["active"]),t,(0,s._)("div",i,[(0,s._)("div",o,[(0,s._)("button",{class:"btn btn-primary",onClick:l[0]||(l[0]=(...e)=>T.updateOrder&&T.updateOrder(...e))},"更新訂單")]),n,(0,s._)("div",u,[(0,s.wy)((0,s._)("input",{class:"form-check-input",type:"checkbox",value:"",id:"is_paid","onUpdate:modelValue":l[1]||(l[1]=e=>H.order.is_paid=e)},null,512),[[r.e8,H.order.is_paid]]),c]),m,(0,s.Wm)(j,null,{default:(0,s.w5)((({errors:e})=>[(0,s._)("div",p,[_,(0,s.Wm)(K,{id:"email",name:"email",type:"email",class:(0,d.C_)(["form-control",{"is-invalid":e["email"]}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:H.order.user.email,"onUpdate:modelValue":l[2]||(l[2]=e=>H.order.user.email=e)},null,8,["class","modelValue"]),(0,s.Wm)(Z,{name:"email",class:"invalid-feedback"})]),(0,s._)("div",h,[b,(0,s.Wm)(K,{id:"name",name:"姓名",type:"text",class:(0,d.C_)(["form-control",{"is-invalid":e["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:H.order.user.name,"onUpdate:modelValue":l[3]||(l[3]=e=>H.order.user.name=e)},null,8,["class","modelValue"]),(0,s.Wm)(Z,{name:"姓名",class:"invalid-feedback"})]),(0,s._)("div",f,[v,(0,s.Wm)(K,{id:"tel",name:"電話",type:"tel",class:(0,d.C_)(["form-control",{"is-invalid":e["電話"]}]),placeholder:"請輸入電話",rules:"required|min:8",modelValue:H.order.user.tel,"onUpdate:modelValue":l[4]||(l[4]=e=>H.order.user.tel=e)},null,8,["class","modelValue"]),(0,s.Wm)(Z,{name:"電話",class:"invalid-feedback"})]),(0,s._)("div",g,[k,(0,s.Wm)(K,{id:"address",name:"地址",type:"text",class:(0,d.C_)(["form-control",{"is-invalid":e["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:H.order.user.address,"onUpdate:modelValue":l[5]||(l[5]=e=>H.order.user.address=e)},null,8,["class","modelValue"]),(0,s.Wm)(Z,{name:"地址",class:"invalid-feedback"})]),(0,s._)("div",w,[x,(0,s.wy)((0,s._)("textarea",{id:"message",class:"form-control",cols:"15",rows:"5","onUpdate:modelValue":l[6]||(l[6]=e=>H.order.message=e)},null,512),[[r.nr,H.order.message]])])])),_:1}),V,(0,s._)("table",y,[W,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(H.order.products,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id},[L,(0,s._)("td",null,[(0,s.Uk)((0,d.zw)(e.product.title)+" ",1),C]),(0,s._)("td",null,[(0,s._)("div",U,[(0,s._)("div",$,[(0,s._)("span",q,(0,d.zw)(e.qty),1)])])]),(0,s._)("td",z,(0,d.zw)(e.total),1)])))),128))]),(0,s._)("tfoot",null,[(0,s._)("tr",null,[O,(0,s._)("td",D,(0,d.zw)(H.order.total),1)]),E])])])],64)}var H={data(){return{isLoading:!1,order:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getOrder(){this.isLoading=!0;const{id:e}=this.$route.params;this.$http.get("https://vue3-course-api.hexschool.io/v2/api/otispath/admin/orders").then((l=>{const a=l.data.orders.filter((l=>l.id===e));this.order=a[0],this.isLoading=!1})).catch((e=>{console.dir(e),this.isLoading=!1}))},updateOrder(){this.isLoading=!0;const e=this.order,{id:l}=this.$route.params;this.$http.put(`https://vue3-course-api.hexschool.io/v2/api/otispath/admin/order/${l}`,{data:e}).then((e=>{alert(e.data.message),this.isLoading=!1,this.$router.push("/admin/orders")})).catch((e=>{console.dir(e),this.isLoading=!1}))}},mounted(){this.getOrder()}},T=a(89);const Y=(0,T.Z)(H,[["render",F]]);var K=Y}}]);
//# sourceMappingURL=956.cab8367f.js.map